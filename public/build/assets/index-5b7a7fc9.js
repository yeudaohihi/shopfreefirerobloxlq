import{r as K,c as v,a as m,b as r,g as y,d as p,w as I,u as _,h as o,j as d,F as u,t as s,f as l,l as L,A as F}from"./chunk-1f342eb4.js";import{u as G}from"./chunk-7d43cceb.js";import{h as b,a as $}from"./chunk-12ee37c2.js";import"./chunk-e47d8634.js";const j={class:"overflow-auto"},q={class:"mb-5 flex flex-col gap-5 md:flex-row md:items-center"},E={class:"ltr:ml-auto rtl:mr-auto flex gap-x-2"},O=["innerHTML"],R={__name:"Index",setup(U){const c=K(""),k=[{title:"ID",dataIndex:"id",sorter:!0},{title:"Tài Khoản",dataIndex:"username"},{title:"Số Lượng",dataIndex:"value"},{title:"Ghi Chú",dataIndex:"user_note"},{title:"Trạng Thái",dataIndex:"status"},{title:"Số Dư Cuối",dataIndex:"current_balance"},{title:"Thời Gian",dataIndex:"created_at",sorter:!0},{title:"Cập Nhật",dataIndex:"updated_at",sorter:!0}],S=t=>$.get("/api/games/withdraws",{params:{search:c.value,...t}}),{data:w,current:C,totalPage:T,loading:g,pageSize:D,run:N,refresh:V}=G(S,{formatResult:t=>{const{data:e,meta:a}=t.data.data;return{data:e??[],totalPage:a.total_rows??0}},defaultParams:[{sort_by:"id",sort_type:"desc",limit:10}],pagination:{currentKey:"page",pageSizeKey:"limit"}}),h=(t,e=null)=>{if(t===null)return"";const a=b(t,b.ISO_8601);return a.isValid()?e?a.format(e):a.format("HH:mm:ss - DD/MM/YYYY"):""},z=t=>$formatStatus(t),H=t=>$formatNumber(t||0),M=v(()=>{var t;return((t=w.value)==null?void 0:t.data)??[]}),P=v(()=>({page:C.value,total:T.value,limit:D.value})),Y=(t,e,a)=>{N({page:t==null?void 0:t.current,limit:t.pageSize,sort_by:a.field,sort_type:a.order==="ascend"?"asc":"desc",...e})};return(t,e)=>{const a=m("a-input"),A=m("a-button"),B=m("a-table");return o(),r("div",j,[y("div",q,[y("div",E,[p(a,{value:c.value,"onUpdate:value":e[0]||(e[0]=n=>c.value=n),placeholder:"Tìm kiếm"},null,8,["value"]),p(A,{type:"primary",loading:_(g),onClick:_(V)},{default:I(()=>[d(" Tìm kiếm ")]),_:1},8,["loading","onClick"])])]),p(B,{dataSource:M.value,columns:k,loading:_(g),pagination:P.value,size:"small",onChange:Y,class:"font-medium whitespace-nowrap"},{bodyCell:I(({column:n,text:i,record:x})=>[n.dataIndex==="value"?(o(),r(u,{key:0},[d(s(i)+" "+s(x.unit),1)],64)):l("",!0),n.dataIndex==="current_balance"?(o(),r(u,{key:1},[d(s(H(i))+" "+s(x.unit),1)],64)):l("",!0),n.dataIndex==="status"?(o(),r("span",{key:2,innerHTML:z(i)},null,8,O)):l("",!0),n.dataIndex==="created_at"?(o(),r(u,{key:3},[d(s(h(i)),1)],64)):l("",!0),n.dataIndex==="updated_at"?(o(),r(u,{key:4},[d(s(h(i)),1)],64)):l("",!0)]),_:1},8,["dataSource","loading","pagination"])])}}},f=L({});f.use(F);f.component("withdraw-index",R);f.mount("#app");
